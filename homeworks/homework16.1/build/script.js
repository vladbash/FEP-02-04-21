"use strict";var _LoginFromComponent=require("./components/LoginForm/LoginFromComponent.js"),_UserListComponent=require("./components/UserList/UserListComponent.js"),_api=require("./api.js"),isUserLoggedIn=localStorage.getItem("token");console.log(isUserLoggedIn);var loginComponent=new _LoginFromComponent.LoginFormComponent(document.getElementById("login-form-tpl").innerHTML,"main-entry",onSuccessLogin),userListComponent=new _UserListComponent.UserListComponent(document.getElementById("user-list-item-tpl").innerHTML,"main-entry",onLogOut);function onSuccessLogin(o){o=o.token;localStorage.setItem("token",o),loginComponent.dispose(),loadUsers()}function onLogOut(){localStorage.removeItem("token"),userListComponent.dispose(),loginComponent.render()}function loadUsers(){(0,_api.getUserList)().then(function(o){o=o.data;userListComponent.setState({list:o})})}isUserLoggedIn?loadUsers():loginComponent.render();